<html>
	<head>
		<meta charset="UTF-8">
	</head>
	<body>
		<button class="js-click">点我</button>
		<script type="text/javascript" src="./loader.js"></script>
		<script type="text/javascript">
			// 页面初始化需要加载的静态资源 
			var initLoadFiles = [
				'__tests__/vendor/assert.js',
				'__tests__/vendor/jquery.js'
			];
			window.Loader.sync(initLoadFiles);

			// 当出现某种交互后，需要下载静态资源 
			var nBtn = document.getElementsByClassName('js-click')[0];
			nBtn.addEventListener('click', function(e){
				window.Loader.async([
					'https://raw.githubusercontent.com/necolas/normalize.css/master/normalize.css',
					'__tests__/vendor/backbone.js',
					'__tests__/vendor/underscore.js'
				], function(){
					alert('download finish');
				});
			});

			// 热点静态资源，或者之后页面需要的静态资源加载
			// 假设5s后页面已经全部加载完
			setTimeout(function(){
				window.Loader.async([
        			'http://cdn.bootcss.com/jquery/3.0.0-rc1/jquery.js',
        			'http://cdn.bootcss.com/jquery/2.1.2/jquery.js',
					'https://raw.githubusercontent.com/necolas/normalize.css/master/normalize.css'
				]);
			}, 5000);
		</script>
	</body>
</html>